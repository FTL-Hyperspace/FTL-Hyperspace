"5557565381ec9c0000008bb424b00000008b9c24b4000000":
cleanup int ShipManager::constructor(ShipManager *this, int shipId);
"5589e557565381ecfc0000008b7d088d9d38ffffff":
cleanup void ShipManager::AddInitialCrew(ShipManager *this, std::vector<CrewBlueprint>& blueprints);
"5383ec188b5c24208b93000400008b420483f8ff74??8b4b188b0c818b818001000085c07e??80b9840100000074??83f80174??31c0":
cleanup int ShipManager::GetDodgeFactor(ShipManager *this);
"5589e557565381ecdc0000008b5d0c8b4510":
cleanup void ShipManager::OnRender(ShipManager *this, char showInterior, char doorControlMode);
"5557565383ec1c8b7c24300fb6442434":
cleanup int ShipManager::CountCrew(ShipManager *this, char boarders);
"5557565331db83ec1c0fb644243c":
static cleanup void ShipManager::TeleportCrew(std::vector<CrewMember*>& crewList, ShipManager *ship, int roomId, bool intruders);
"5589e557565383ec6c8b7d088b450c8b7510":
cleanup int ShipManager::OnInit(ShipManager *this, ShipBlueprint *bp, int shipLevel);
"8b44240883f81174??8b5424048b9200040000":
cleanup char ShipManager::HasSystem(ShipManager *this, int systemId);
"5557565331db83ec1c8b6c24308b7424348b55188b451c":
cleanup ShipSystem *ShipManager::GetSystemInRoom(ShipManager *this, int roomId);
"83ec2c8b44243080b8d103000000":
cleanup void ShipManager::OnLoop(ShipManager* this);
"5383ec188b4424248b5424208b5c242883f811":
static void ShipManager::DO_NOT_HOOK();
".5383ec188b4424248b5424208b5c242883f811":
cleanup void ShipManager::SetSystemPowerLoss(ShipManager *this, int systemId, int powerLoss);
"5589e557565383ec4c8b5d088b83c4040000":
cleanup int ShipManager::CreateSystems(ShipManager *this);
"5589e557565381ecdc0000008b45088d98c0040000":
cleanup int ShipManager::AddSystem(ShipManager *this, int systemId);
"5589e557565331db81ecfc0000008b7d088b57188b471c":
cleanup void ShipManager::UpdateCrewMembers(ShipManager *this);
"5589e557565381ec9c0000008b7d088d4770":
cleanup void ShipManager::UpdateEnvironment(ShipManager *this);
"5589e557565383ec6c8b4514c7442404????????8b7508":
cleanup CrewMember *ShipManager::AddCrewMemberFromBlueprint(ShipManager *this, CrewBlueprint* bp, int slot, bool init, int roomId, bool intruder);
"5589e557565381ec6c0100008b75088b4d1c8b45148b5604":
cleanup CrewMember *ShipManager::AddCrewMemberFromString(ShipManager *this, const std::string& name, const std::string& race, char intruder, int roomId, char init, char male);
"8b4424048b9000040000837a08ff74??8b4024f30f1005????????":
cleanup int ShipManager::GetOxygenPercentage(ShipManager *this);
"5557565383ec1c807c246600":
cleanup char ShipManager::DamageCrew(ShipManager *this, CrewMember *crew, DamageParameter dmg);
"5557565383ec3c8b442454894424048d44242c890424":
cleanup void ShipManager::RemoveItem(ShipManager *this, const std::string& name); 
"5589e557565381eccc0000008b45148b5d08":
cleanup char ShipManager::DamageArea(ShipManager *this, Pointf location, DamageParameter dmg, char forceHit);
"5589e557565383ec6c8b45108b7d14":
static cleanup CrewBlueprint* ShipManager::SelectRandomCrew(CrewBlueprint& bp, ShipManager *ship, int seed, const std::string& unk);
"565331db83ec148b7424208b56188b461c29d0c1f80285c074??8db6000000008b049a83c301":
cleanup void ShipManager::ClearStatusAll(ShipManager *this);
"5557565383ec7c8bbc24900000008b87ec050000":
cleanup void ShipManager::PrepareSuperDrones(ShipManager *this);
"5631c05383ec248b742430":
cleanup void ShipManager::JumpLeave(ShipManager *this);
"5557565383ec3c8b7424548b5c24508b442458":
cleanup void ShipManager::ModifyScrapCount(ShipManager *this, int scrap, bool income);
"5383ec188b5424208b82000400008b401c":
cleanup bool ShipManager::DoSensorsProvide(ShipManager *this, int vision);
"5331c083ec188b5c24208b5304c70424????????85d2??????89442404e8????????b901000000":
cleanup bool ShipManager::IsCrewFull(ShipManager *this);
"5331c083ec188b5c24208b5304c70424????????85d2??????89442404e8????????837b0401":
cleanup bool ShipManager::IsCrewOverFull(ShipManager *this);
"565383ec248b5424348b5c24308b4240":
cleanup CrewDrone *ShipManager::CreateCrewDrone(ShipManager *this, const DroneBlueprint *bp);
"5589e557565383ec7c8b750c8b5d08c745b800000000":
cleanup SpaceDrone *ShipManager::CreateSpaceDrone(ShipManager *this, const DroneBlueprint *bp);
"83ec1c8b442428c744240c00000000c7442408ffffffff":
cleanup bool ShipManager::CommandCrewMoveRoom(ShipManager *this, CrewMember *crew, int roomId);
"8b4424088b54240483f8ff74??8b8a000400008b048183f8ff74??8b52188b048285c074??8b1089442404":
cleanup int ShipManager::GetSystemRoom(ShipManager *this, int sysId);
"5557565383ec1c8b4424348b5c24308b9000040000837a0cff":
static cleanup std::vector<ProjectileFactory*>& ShipManager::GetWeaponList(std::vector<ProjectileFactory*> &wepList, ShipManager *ship);
"57565383ec208b5c24308b7c24348b8300040000":
cleanup Drone* ShipManager::AddDrone(ShipManager *this, const DroneBlueprint *bp, int slot);
"5557565383ec2c8b6c24408b450485c0":
cleanup void ShipManager::Restart(ShipManager *this);
"8b5424048b4c24088b82000400008b048883f8ff74??8b52188b048289442404e9????????8d7600b8ffffffff":
cleanup int ShipManager::GetSystemPower(ShipManager *this, int systemId);
"5557565383ec1c8b4424308b50648b406889c129d1c1f90285c90f84????????":
cleanup int ShipManager::CountCrewShipId(ShipManager *this, int roomId, int shipId);
"8b4424088b54240483f8ff74??8b8a000400008b048183f8ff74??8b52188b0482c38db60000000031c0":
cleanup ShipSystem* ShipManager::GetSystem(ShipManager *this, int systemId);
"5589e557565381ec1c0100008b45088b7d0c0594040000":
cleanup void ShipManager::ExportShip(ShipManager *this, int file);
".5557565383ec1c8b7c2430":
cleanup void ShipManager::destructor(ShipManager *this);
".5383ec188b5c2420891c24":
cleanup void ShipManager::destructor2(ShipManager *this);
"5589e557565381ec7c0200008b7d0c8d8588feffff":
cleanup void ShipManager::ImportShip(ShipManager *this, int file);
"5557565383ec4c8b7c24608b870004000083781cff":
cleanup void ShipManager::CheckVision(ShipManager *this);
"56538b5424108b4c240c83fa118b8100040000":
cleanup bool ShipManager::IsSystemHacked(ShipManager *this, int systemId);
"5589e557565383ec3c8b7d080fb645148b4f64":
cleanup CrewMember* ShipManager::GetSelectedCrewPoint(ShipManager *this, int x, int y, bool intruder);
"5589e557565383ec6c8b75088d45b0890424":
cleanup void ShipManager::RenderWeapons(ShipManager *this);
"83ec1c8b4424248b54242083f811":
cleanup void ShipManager::ClearStatusSystem(ShipManager *this, int system);
"a1????????8b54240483f801c7820c0400001e000000":
cleanup void ShipManager::ResetScrapLevel(ShipManager *this);
"565383ec248b7424308b86f4030000c786c403000000000000":
cleanup void ShipManager::JumpArrive(ShipManager *this);
"5589e557565383ec5c8b7d08c745b000000000":
cleanup void ShipManager::CheckSpreadDamage(ShipManager *this);
"8b4424088b54240483f8ff74??8b8a000400008b048183f8ff74??8b52188b048285c074??8b10c744240801000000894424048b8284000000":
cleanup bool ShipManager::ForceDecreaseSystemPower(ShipManager *this, int sys);
"8b5424088b4424048b524485d2":
static cleanup void ShipManager::GetShieldPower(ShieldPower &power, ShipManager *ship);
"538b4424088b9000040000837a0cff":
cleanup int ShipManager::AddWeapon(ShipManager *this, const WeaponBlueprint* bp, int slot);
"5557565331db83ec3c8b4424548d74242c":
cleanup void ShipManager::AddEquipmentFromList(ShipManager *this, std::vector<std::string> equipmentList);
"5589e557565383ec4c8b5d088b730485f6":
cleanup void ShipManager::RenderChargeBars(ShipManager *this);
"5557565383ec2c8b7c24408b7424448b8700040000":
cleanup void ShipManager::ExportBattleState(ShipManager *this, int file);
"5557565383ec3c8b7424508b5c24548b8600040000":
cleanup void ShipManager::ImportBattleState(ShipManager *this, int file);
"8b5424048b4c24088b82000400008b048883f8ff74??8b52188b04828b10894424048b422c":
cleanup bool ShipManager::SystemFunctions(ShipManager *this, int systemId);
"57565383ec108b4424248b7c242083f805":
cleanup bool ShipManager::CanFitSystem(ShipManager *this, int systemId);
"57565383ec108b7c24208b57188b471c":
cleanup bool ShipManager::CanFitSubsystem(ShipManager *this, int systemId);
"565383ec148b5c24208b7424288b03891c24":
cleanup int ShipManager::DamageHull(ShipManager *this, int dmg, bool force);
"5589e557565383ec6c8b45248b7d088b5d10":
cleanup void ShipManager::DamageSystem(ShipManager *this, int systemId, DamageParameter damage);
"83ec1c8b442424c74424080200000089442404":
cleanup void ShipManager::StartFire(ShipManager *this, int roomId);
"5557565383ec3c8d44242089442404c744240c00000000":
cleanup CrewMember* ShipManager::FindCrew(ShipManager *this, const CrewBlueprint *bp);
"57565383ec208b5c2430807b1000":
cleanup bool ShipManager::GetDodged(ShipManager *this);
"5589e557565383ec7c8b7d088b87c0030000":
cleanup void ShipManager::PrepareSuperBarrage(ShipManager *this);
"5589e557565383ec6c8d45a8":
cleanup bool ShipManager::RestoreCrewPositions(ShipManager *this);
"555731ff565331db83ec1c8b7424308b4e688b4664":
cleanup CrewMember* ShipManager::GetCrewmember(ShipManager *this, int slot, bool present);

struct ShipManager depends (PowerManager, ShieldPower)
{{
	ShipManager(int shipId) 
	{
		this->constructor(shipId);
	}
	
	Pointf GetRandomRoomCenter()
	{
		auto rng = rand();
		auto graph = ShipGraph::GetShipInfo(this->iShipId);
		auto rooms = graph->rooms.size();
		return this->ship.GetRoomCenter(rng % rooms);
	}
	
	Pointf GetRoomCenter(int roomId)
	{
		return ship.GetRoomCenter(roomId);
	}
	
	std::vector<ProjectileFactory*> GetWeaponList()
	{
		std::vector<ProjectileFactory*> vec = std::vector<ProjectileFactory*>();
		ShipManager::GetWeaponList(vec, this);
		return vec;
	}
	
	~ShipManager()
	{
		this->destructor2();
	}
	
	std::pair<int, int> GetAvailablePower()
	{
		PowerManager *powerMan = PowerManager::GetPowerManager(iShipId);
		
		return std::pair<int, int>(powerMan->currentPower.second, powerMan->currentPower.second - powerMan->currentPower.first);
	}
	
	ShieldPower GetShieldPower()
	{
		ShieldPower shieldPower;
		GetShieldPower(shieldPower, this);
		return shieldPower;
	}
	

}};
